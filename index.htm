<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<script type="text/javascript" src="http://127.0.0.1:8081/jquery.js"></script>
<title>Examples</title>
<body>
    <br />
    <h3>node全栈实例</h3>
    <br />
    姓名:
    <input type="text" name="first_name" id="first_name">
    <br>
    <br />
    密码:
    <input type="password" name="last_name" id="last_name">
    <br />
    <br />
    <div  id="test" class="test">提交</div>
    <br />
    <br />

    <script type="text/javascript">
    $('#test').on('click', function(event) {
      $.ajax({
        url: '/process_post',
        data: {
          first_name:  $('#first_name').val(),
          last_name:  $('#last_name').val()
        },
        dataType: 'json',
        type: 'POST',
        cache: false,
        beforeSend: function() 
        {
          console.log(1);
        },
        success: function(data) 
        {
            console.log(data);
            if (data.code == 200) {
                alert("添加成功");
                location.href = "list.htm"
            }
        },    
        error: function(data) 
        {
            console.log(data);
        },    
        complete: function() 
        {
        } 
      });
    });
    
    
    </script>

</body>
<style type="text/css" media="screen">
   .test{
    cursor: pointer;
    display: inline-block
   } 
   body{
    padding: 0px  50px  50px  50px;
   }
</style>
</html>